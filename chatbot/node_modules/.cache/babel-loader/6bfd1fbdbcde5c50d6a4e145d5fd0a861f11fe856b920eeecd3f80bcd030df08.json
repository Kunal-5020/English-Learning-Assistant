{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kunal\\\\OneDrive\\\\Desktop\\\\office work\\\\Hindi Chat Bot\\\\chatbot\\\\src\\\\component\\\\ChatDisplay.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useImperativeHandle } from \"react\";\nimport \"./css/ChatDisplay.css\";\n\n// ChatDisplay Component wrapped with React.forwardRef\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChatDisplay = /*#__PURE__*/_s(/*#__PURE__*/React.forwardRef(_c = _s(({\n  messages,\n  currentResponseIndex\n}, ref) => {\n  _s();\n  const chatEndRef = useRef(null);\n  const messageRefs = useRef([]);\n  const containerRef = useRef(null); // Reference for the message container\n\n  // Update message refs whenever messages change\n  useEffect(() => {\n    messageRefs.current = messageRefs.current.slice(0, messages.length);\n  }, [messages]);\n  useEffect(() => {\n    var _chatEndRef$current;\n    (_chatEndRef$current = chatEndRef.current) === null || _chatEndRef$current === void 0 ? void 0 : _chatEndRef$current.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  }, [messages, currentResponseIndex]);\n\n  // Smooth scroll to the target message index\n  const scrollToMessage = index => {\n    if (messageRefs.current[index] && containerRef.current) {\n      const container = containerRef.current;\n      const messageElement = messageRefs.current[index];\n\n      // Calculate the position to center the message\n      const offsetTop = messageElement.offsetTop - container.offsetTop;\n      const centerOffset = offsetTop - container.clientHeight / 2 + messageElement.clientHeight / 2;\n\n      // Set scrollTop directly to ensure exact positioning\n      container.scrollTo({\n        top: centerOffset,\n        behavior: \"smooth\"\n      });\n    }\n  };\n\n  // Expose the scrollToMessage function to the parent component\n  useImperativeHandle(ref, () => ({\n    scrollToMessage\n  }));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: containerRef,\n    className: \"chat-display\",\n    children: [messages.map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: el => messageRefs.current[index] = el,\n      className: `message ${msg.sender} ${index === currentResponseIndex ? \"highlighted\" : \"\"}`,\n      children: [msg.sender === \"bot\" && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"bot-icon\",\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          viewBox: \"0 0 16 16\",\n          fill: \"none\",\n          xmlns: \"http://www.w3.org/2000/svg\",\n          children: [/*#__PURE__*/_jsxDEV(\"g\", {\n            id: \"SVGRepo_bgCarrier\",\n            strokeWidth: \"0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n            id: \"SVGRepo_tracerCarrier\",\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n            id: \"SVGRepo_iconCarrier\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              fillRule: \"evenodd\",\n              clipRule: \"evenodd\",\n              d: \"M9 0V2H13L16 8.5L13 15H3L0 8.5L3 2H7V0H9ZM4.59794 11.7384L8 12.2618L11.4021 11.7384L11.0979 9.76163L8 10.2382L4.90206 9.76163L4.59794 11.7384ZM7 6.75C7 7.44036 6.44036 8 5.75 8C5.05964 8 4.5 7.44036 4.5 6.75C4.5 6.05964 5.05964 5.5 5.75 5.5C6.44036 5.5 7 6.05964 7 6.75ZM10.25 8C10.9404 8 11.5 7.44036 11.5 6.75C11.5 6.05964 10.9404 5.5 10.25 5.5C9.55964 5.5 9 6.05964 9 6.75C9 7.44036 9.55964 8 10.25 8Z\",\n              fill: \"#fff\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"message-text\",\n        dangerouslySetInnerHTML: {\n          __html: msg.text\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: chatEndRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}, \"rZFwHupHJwltFIXD5pIAidsP7rE=\")), \"rZFwHupHJwltFIXD5pIAidsP7rE=\");\n_c2 = ChatDisplay;\nexport default ChatDisplay;\nvar _c, _c2;\n$RefreshReg$(_c, \"ChatDisplay$React.forwardRef\");\n$RefreshReg$(_c2, \"ChatDisplay\");","map":{"version":3,"names":["React","useEffect","useRef","useImperativeHandle","jsxDEV","_jsxDEV","ChatDisplay","_s","forwardRef","_c","messages","currentResponseIndex","ref","chatEndRef","messageRefs","containerRef","current","slice","length","_chatEndRef$current","scrollIntoView","behavior","scrollToMessage","index","container","messageElement","offsetTop","centerOffset","clientHeight","scrollTo","top","className","children","map","msg","el","sender","viewBox","fill","xmlns","id","strokeWidth","fileName","_jsxFileName","lineNumber","columnNumber","strokeLinecap","strokeLinejoin","fillRule","clipRule","d","dangerouslySetInnerHTML","__html","text","_c2","$RefreshReg$"],"sources":["C:/Users/kunal/OneDrive/Desktop/office work/Hindi Chat Bot/chatbot/src/component/ChatDisplay.jsx"],"sourcesContent":["import React, { useEffect, useRef, useImperativeHandle } from \"react\";\r\nimport \"./css/ChatDisplay.css\";\r\n\r\n// ChatDisplay Component wrapped with React.forwardRef\r\nconst ChatDisplay = React.forwardRef(({ messages, currentResponseIndex }, ref) => {\r\n  const chatEndRef = useRef(null);\r\n  const messageRefs = useRef([]);\r\n  const containerRef = useRef(null); // Reference for the message container\r\n\r\n  // Update message refs whenever messages change\r\n  useEffect(() => {\r\n    messageRefs.current = messageRefs.current.slice(0, messages.length);\r\n  }, [messages]);\r\n\r\n  useEffect(() => {\r\n    chatEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  }, [messages, currentResponseIndex]);\r\n\r\n  // Smooth scroll to the target message index\r\n  const scrollToMessage = (index) => {\r\n    if (messageRefs.current[index] && containerRef.current) {\r\n      const container = containerRef.current;\r\n      const messageElement = messageRefs.current[index];\r\n\r\n      // Calculate the position to center the message\r\n      const offsetTop = messageElement.offsetTop - container.offsetTop;\r\n      const centerOffset = offsetTop - container.clientHeight / 2 + messageElement.clientHeight / 2;\r\n\r\n      // Set scrollTop directly to ensure exact positioning\r\n      container.scrollTo({\r\n        top: centerOffset,\r\n        behavior: \"smooth\",\r\n      });\r\n    }\r\n  };\r\n\r\n  // Expose the scrollToMessage function to the parent component\r\n  useImperativeHandle(ref, () => ({\r\n    scrollToMessage,\r\n  }));\r\n\r\n  return (\r\n    <div ref={containerRef} className=\"chat-display\">\r\n      {messages.map((msg, index) => (\r\n        <div\r\n          key={index}\r\n          ref={(el) => (messageRefs.current[index] = el)}\r\n          className={`message ${msg.sender} ${index === currentResponseIndex ? \"highlighted\" : \"\"}`}\r\n        >\r\n          {msg.sender === \"bot\" && (\r\n            <span className=\"bot-icon\">\r\n              <svg viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <g id=\"SVGRepo_bgCarrier\" strokeWidth=\"0\"></g>\r\n                <g id=\"SVGRepo_tracerCarrier\" strokeLinecap=\"round\" strokeLinejoin=\"round\"></g>\r\n                <g id=\"SVGRepo_iconCarrier\">\r\n                  <path\r\n                    fillRule=\"evenodd\"\r\n                    clipRule=\"evenodd\"\r\n                    d=\"M9 0V2H13L16 8.5L13 15H3L0 8.5L3 2H7V0H9ZM4.59794 11.7384L8 12.2618L11.4021 11.7384L11.0979 9.76163L8 10.2382L4.90206 9.76163L4.59794 11.7384ZM7 6.75C7 7.44036 6.44036 8 5.75 8C5.05964 8 4.5 7.44036 4.5 6.75C4.5 6.05964 5.05964 5.5 5.75 5.5C6.44036 5.5 7 6.05964 7 6.75ZM10.25 8C10.9404 8 11.5 7.44036 11.5 6.75C11.5 6.05964 10.9404 5.5 10.25 5.5C9.55964 5.5 9 6.05964 9 6.75C9 7.44036 9.55964 8 10.25 8Z\"\r\n                    fill=\"#fff\"\r\n                  ></path>\r\n                </g>\r\n              </svg>\r\n            </span>\r\n          )}\r\n          <span className=\"message-text\" dangerouslySetInnerHTML={{ __html: msg.text }}></span>\r\n        </div>\r\n      ))}\r\n      <div ref={chatEndRef} />\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default ChatDisplay ;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}